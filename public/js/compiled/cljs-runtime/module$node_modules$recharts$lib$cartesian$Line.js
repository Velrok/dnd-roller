shadow$provide.module$node_modules$recharts$lib$cartesian$Line=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj$jscomp$0){_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj$jscomp$0)}function _extends(){_extends=
Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};return _extends.apply(this,arguments)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"===typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,
sym).enumerable})));ownKeys.forEach(function(key){var value=source[key];key in target?Object.defineProperty(target,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):target[key]=value})}return target}function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in
Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,
protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&("object"===_typeof(call)||"function"===typeof call))return call;if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o$jscomp$0){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||
Object.getPrototypeOf(o)};return _getPrototypeOf(o$jscomp$0)}function _inherits(subClass,superClass){if("function"!==typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}});superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o$jscomp$0,p$jscomp$0){_setPrototypeOf=Object.setPrototypeOf||function(o,
p){o.__proto__=p;return o};return _setPrototypeOf(o$jscomp$0,p$jscomp$0)}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _isEqual2=_interopRequireDefault(require("module$node_modules$lodash$isEqual")),_isFunction2=_interopRequireDefault(require("module$node_modules$lodash$isFunction")),_isNil2=_interopRequireDefault(require("module$node_modules$lodash$isNil")),_react=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,
key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;return newObj}(require("module$node_modules$react$index"));global=_interopRequireDefault(require("module$node_modules$prop_types$index"));var _reactSmooth=_interopRequireDefault(require("module$node_modules$react_smooth$lib$index")),_classnames=_interopRequireDefault(require("module$node_modules$classnames$index"));
module=_interopRequireDefault(require("module$node_modules$recharts$lib$util$PureRender"));var _Curve=_interopRequireDefault(require("module$node_modules$recharts$lib$shape$Curve")),_Dot=_interopRequireDefault(require("module$node_modules$recharts$lib$shape$Dot")),_Layer=_interopRequireDefault(require("module$node_modules$recharts$lib$container$Layer")),_LabelList=_interopRequireDefault(require("module$node_modules$recharts$lib$component$LabelList")),_ErrorBar=_interopRequireDefault(require("module$node_modules$recharts$lib$cartesian$ErrorBar")),
_DataUtils=require("module$node_modules$recharts$lib$util$DataUtils"),_ReactUtils=require("module$node_modules$recharts$lib$util$ReactUtils"),_ChartUtils=require("module$node_modules$recharts$lib$util$ChartUtils"),_class,_class2,_temp;require=(0,module.default)(_class=(_temp=_class2=function(_Component){function Line(){var _getPrototypeOf2;if(!(this instanceof Line))throw new TypeError("Cannot call a class as a function");for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=
arguments[_key];var _this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Line)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={isAnimationFinished:!0,totalLength:0};_this.id=(0,_DataUtils.uniqueId)("recharts-line-");_this.cachePrevData=function(points){_this.setState({prevPoints:points})};_this.pathRef=function(node){_this.mainCurve=node};_this.handleAnimationEnd=function(){_this.setState({isAnimationFinished:!0});_this.props.onAnimationEnd()};_this.handleAnimationStart=
function(){_this.setState({isAnimationFinished:!1});_this.props.onAnimationStart()};return _this}_inherits(Line,_Component);_createClass(Line,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var totalLength=this.getTotalLength();this.setState({totalLength:totalLength})}}},{key:"componentWillReceiveProps",value:function(nextProps){var _this$props=this.props,points=_this$props.points;nextProps.animationId!==_this$props.animationId&&this.cachePrevData(points)}},{key:"getTotalLength",
value:function(){var curveDom=this.mainCurve;try{return curveDom&&curveDom.getTotalLength&&curveDom.getTotalLength()||0}catch(err){return 0}}},{key:"getStrokeDasharray",value:function(length,totalLength,lines){var lineLength=lines.reduce(function(pre,next){return pre+next}),count=parseInt(length/lineLength,10);lineLength=length%lineLength;length=totalLength-length;totalLength=[];for(var sum=totalLength=0;;sum+=lines[totalLength],++totalLength)if(sum+lines[totalLength]>lineLength){totalLength=_toConsumableArray(lines.slice(0,
totalLength)).concat([lineLength-sum]);break}lineLength=0===totalLength.length%2?[0,length]:[length];return _toConsumableArray(this.constructor.repeat(lines,count)).concat(_toConsumableArray(totalLength),lineLength).map(function(line){return"".concat(line,"px")}).join(", ")}},{key:"renderErrorBar",value:function(){function dataPointFormatter(dataPoint,dataKey){return{x:dataPoint.x,y:dataPoint.y,value:dataPoint.value,errorVal:(0,_ChartUtils.getValueByDataKey)(dataPoint.payload,dataKey)}}if(this.props.isAnimationActive&&
!this.state.isAnimationFinished)return null;var _this$props2=this.props,points=_this$props2.points,xAxis=_this$props2.xAxis,yAxis=_this$props2.yAxis,layout=_this$props2.layout;_this$props2=_this$props2.children;return(_this$props2=(0,_ReactUtils.findAllByType)(_this$props2,_ErrorBar.default))?_this$props2.map(function(item,i){return _react.default.cloneElement(item,{key:i,data:points,xAxis:xAxis,yAxis:yAxis,layout:layout,dataPointFormatter:dataPointFormatter})}):null}},{key:"renderDots",value:function(needClip,
clipPathId){var _this2=this;if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var _this$props3=this.props,dot=_this$props3.dot,points=_this$props3.points,dataKey=_this$props3.dataKey,lineProps=(0,_ReactUtils.getPresentationAttributes)(this.props),customDotProps=(0,_ReactUtils.getPresentationAttributes)(dot),dotEvents=(0,_ReactUtils.filterEventAttributes)(dot);_this$props3=points.map(function(entry,i){entry=_objectSpread({key:"dot-".concat(i),r:3},lineProps,customDotProps,
dotEvents,{value:entry.value,dataKey:dataKey,cx:entry.x,cy:entry.y,index:i,payload:entry.payload});return _this2.constructor.renderDotItem(dot,entry)});needClip={clipPath:needClip?"url(#clipPath-".concat(clipPathId,")"):null};return _react.default.createElement(_Layer.default,_extends({className:"recharts-line-dots",key:"dots"},needClip),_this$props3)}},{key:"renderCurveStatically",value:function(points,needClip,clipPathId,props){var _this$props4=this.props,type=_this$props4.type,layout=_this$props4.layout;
_this$props4=_this$props4.connectNulls;points=_objectSpread({},(0,_ReactUtils.getPresentationAttributes)(this.props),(0,_ReactUtils.filterEventAttributes)(this.props),{fill:"none",className:"recharts-line-curve",clipPath:needClip?"url(#clipPath-".concat(clipPathId,")"):null,points:points},props,{type:type,layout:layout,connectNulls:_this$props4});return _react.default.createElement(_Curve.default,_extends({},points,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(needClip,
clipPathId){var _this3=this,_this$props5=this.props,points=_this$props5.points,strokeDasharray=_this$props5.strokeDasharray,width=_this$props5.width,height=_this$props5.height,_this$state=this.state,prevPoints=_this$state.prevPoints,totalLength=_this$state.totalLength;return _react.default.createElement(_reactSmooth.default,{begin:_this$props5.animationBegin,duration:_this$props5.animationDuration,isActive:_this$props5.isAnimationActive,easing:_this$props5.animationEasing,from:{t:0},to:{t:1},key:"line-".concat(_this$props5.animationId),
onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_ref){var t=_ref.t;if(prevPoints){var prevPointsDiffFactor=prevPoints.length/points.length;_ref=points.map(function(entry,index){index=Math.floor(index*prevPointsDiffFactor);if(prevPoints[index]){var prev=prevPoints[index];index=(0,_DataUtils.interpolateNumber)(prev.x,entry.x);prev=(0,_DataUtils.interpolateNumber)(prev.y,entry.y);return _objectSpread({},entry,{x:index(t),y:prev(t)})}return _this3.animateNewValues?
(index=(0,_DataUtils.interpolateNumber)(2*width,entry.x),prev=(0,_DataUtils.interpolateNumber)(height/2,entry.y),_objectSpread({},entry,{x:index(t),y:prev(t)})):_objectSpread({},entry,{x:entry.x,y:entry.y})});return _this3.renderCurveStatically(_ref,needClip,clipPathId)}_ref=(0,_DataUtils.interpolateNumber)(0,totalLength)(t);if(strokeDasharray){var lines=strokeDasharray.split(/[,\s]+/gim).map(function(num){return parseFloat(num)});_ref=_this3.getStrokeDasharray(_ref,totalLength,lines)}else _ref="".concat(_ref,
"px ").concat(totalLength-_ref,"px");return _this3.renderCurveStatically(points,needClip,clipPathId,{strokeDasharray:_ref})})}},{key:"renderCurve",value:function(needClip,clipPathId){var _this$props6=this.props,points=_this$props6.points,_this$state2=this.state,prevPoints=_this$state2.prevPoints;_this$state2=_this$state2.totalLength;return _this$props6.isAnimationActive&&points&&points.length&&(!prevPoints&&0<_this$state2||!(0,_isEqual2.default)(prevPoints,points))?this.renderCurveWithAnimation(needClip,
clipPathId):this.renderCurveStatically(points,needClip,clipPathId)}},{key:"render",value:function(){var _this$props7=this.props,dot=_this$props7.dot,points=_this$props7.points,className=_this$props7.className,xAxis=_this$props7.xAxis,yAxis=_this$props7.yAxis,top=_this$props7.top,left=_this$props7.left,width=_this$props7.width,height=_this$props7.height,isAnimationActive=_this$props7.isAnimationActive,id=_this$props7.id;if(_this$props7.hide||!points||!points.length)return null;_this$props7=this.state.isAnimationFinished;
var hasSinglePoint=1===points.length;className=(0,_classnames.default)("recharts-line",className);xAxis=xAxis&&xAxis.allowDataOverflow||yAxis&&yAxis.allowDataOverflow;id=(0,_isNil2.default)(id)?this.id:id;return _react.default.createElement(_Layer.default,{className:className},xAxis?_react.default.createElement("defs",null,_react.default.createElement("clipPath",{id:"clipPath-".concat(id)},_react.default.createElement("rect",{x:left,y:top,width:width,height:height}))):null,!hasSinglePoint&&this.renderCurve(xAxis,
id),this.renderErrorBar(),(hasSinglePoint||dot)&&this.renderDots(xAxis,id),(!isAnimationActive||_this$props7)&&_LabelList.default.renderCallByParent(this.props,points))}}],[{key:"repeat",value:function(lines,count){lines=0!==lines.length%2?_toConsumableArray(lines).concat([0]):lines;for(var result=[],i=0;i<count;++i)result=_toConsumableArray(result).concat(_toConsumableArray(lines));return result}},{key:"renderDotItem",value:function(option,props){_react.default.isValidElement(option)?props=_react.default.cloneElement(option,
props):(0,_isFunction2.default)(option)?props=option(props):(option=(0,_classnames.default)("recharts-line-dot",option?option.className:""),props=_react.default.createElement(_Dot.default,_extends({},props,{className:option})));return props}}]);return Line}(_react.Component),_class2.displayName="Line",_class2.propTypes=_objectSpread({},_ReactUtils.PRESENTATION_ATTRIBUTES,_ReactUtils.EVENT_ATTRIBUTES,{className:global.default.string,type:global.default.oneOfType([global.default.oneOf("basis basisClosed basisOpen linear linearClosed natural monotoneX monotoneY monotone step stepBefore stepAfter".split(" ")),
global.default.func]),unit:global.default.oneOfType([global.default.string,global.default.number]),name:global.default.oneOfType([global.default.string,global.default.number]),yAxisId:global.default.oneOfType([global.default.string,global.default.number]),xAxisId:global.default.oneOfType([global.default.string,global.default.number]),yAxis:global.default.object,xAxis:global.default.object,legendType:global.default.oneOf(_ReactUtils.LEGEND_TYPES),tooltipType:global.default.oneOf(_ReactUtils.TOOLTIP_TYPES),
layout:global.default.oneOf(["horizontal","vertical"]),connectNulls:global.default.bool,hide:global.default.bool,activeDot:global.default.oneOfType([global.default.object,global.default.element,global.default.func,global.default.bool]),dot:global.default.oneOfType([global.default.object,global.default.element,global.default.func,global.default.bool]),top:global.default.number,left:global.default.number,width:global.default.number,height:global.default.number,points:global.default.arrayOf(global.default.shape({x:global.default.number,
y:global.default.number,value:global.default.value})),onAnimationStart:global.default.func,onAnimationEnd:global.default.func,isAnimationActive:global.default.bool,animateNewValues:global.default.bool,animationBegin:global.default.number,animationDuration:global.default.number,animationEasing:global.default.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),animationId:global.default.number,id:global.default.string}),_class2.defaultProps={xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,
dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!(0,_ReactUtils.isSsr)(),animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,onAnimationStart:function(){},onAnimationEnd:function(){}},_class2.getComposedData=function(_ref2){var xAxis=_ref2.xAxis,yAxis=_ref2.yAxis,xAxisTicks=_ref2.xAxisTicks,yAxisTicks=_ref2.yAxisTicks,dataKey=_ref2.dataKey,bandSize=_ref2.bandSize,offset=_ref2.offset,layout=_ref2.props.layout;_ref2=
_ref2.displayedData.map(function(entry,index){var value=(0,_ChartUtils.getValueByDataKey)(entry,dataKey);return"horizontal"===layout?{x:(0,_ChartUtils.getCateCoordinateOfLine)({axis:xAxis,ticks:xAxisTicks,bandSize:bandSize,entry:entry,index:index}),y:(0,_isNil2.default)(value)?null:yAxis.scale(value),value:value,payload:entry}:{x:(0,_isNil2.default)(value)?null:xAxis.scale(value),y:(0,_ChartUtils.getCateCoordinateOfLine)({axis:yAxis,ticks:yAxisTicks,bandSize:bandSize,entry:entry,index:index}),value:value,
payload:entry}});return _objectSpread({points:_ref2,layout:layout},offset)},_temp))||_class;exports.default=require}
//# sourceMappingURL=module$node_modules$recharts$lib$cartesian$Line.js.map
