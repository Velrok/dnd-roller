shadow$provide.module$node_modules$react_smooth$lib$configUpdate=function(global,require,module,exports){function _toConsumableArray(arr){if(Array.isArray(arr)){var JSCompiler_temp=0;for(var arr2=Array(arr.length);JSCompiler_temp<arr.length;JSCompiler_temp++)arr2[JSCompiler_temp]=arr[JSCompiler_temp];JSCompiler_temp=arr2}else JSCompiler_temp=void 0;JSCompiler_temp||(JSCompiler_temp=Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)?Array.from(arr):void 0);if(!(arr=
JSCompiler_temp))throw new TypeError("Invalid attempt to spread non-iterable instance");return arr}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"===typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})));ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}
function _defineProperty(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=void 0;var _filter2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(require("module$node_modules$lodash$filter")),_raf=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,
key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};desc.get||desc.set?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;return newObj}(require("module$node_modules$raf$index")),_util=require("module$node_modules$react_smooth$lib$util"),alpha=function(begin,end,k){return begin+(end-begin)*k},needContinue=function(_ref){return _ref.from!==_ref.to},calStepperVals=function calStepperVals(easing,preVals,steps){var nextStepVals=
(0,_util.mapObject)(function(key,val){if(needContinue(val)){key=easing(val.from,val.to,val.velocity);var JSCompiler_temp=Array.isArray(key)?key:void 0;if(!JSCompiler_temp){JSCompiler_temp=[];var _n=!0,_d=!1,_e=void 0;try{var JSCompiler_temp$jscomp$0=key[Symbol.iterator]();for(var _s;!(_n=(_s=JSCompiler_temp$jscomp$0.next()).done)&&(JSCompiler_temp.push(_s.value),2!==JSCompiler_temp.length);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=JSCompiler_temp$jscomp$0["return"])JSCompiler_temp$jscomp$0["return"]()}finally{if(_d)throw _e;
}}}if(!(JSCompiler_temp$jscomp$0=JSCompiler_temp))throw new TypeError("Invalid attempt to destructure non-iterable instance");return _objectSpread({},val,{from:JSCompiler_temp$jscomp$0[0],velocity:JSCompiler_temp$jscomp$0[1]})}return val},preVals);return 1>steps?(0,_util.mapObject)(function(key,val){return needContinue(val)?_objectSpread({},val,{velocity:alpha(val.velocity,nextStepVals[key].velocity,steps),from:alpha(val.from,nextStepVals[key].from,steps)}):val},preVals):calStepperVals(easing,nextStepVals,
steps-1)};exports.default=function(from,to,easing,duration,render){var interKeys=(0,_util.getIntersectionKeys)(from,to),timingStyle=interKeys.reduce(function(res,key){return _objectSpread({},res,_defineProperty({},key,[from[key],to[key]]))},{}),stepperStyle=interKeys.reduce(function(res,key){return _objectSpread({},res,_defineProperty({},key,{from:from[key],velocity:0,to:to[key]}))},{}),cafId=-1,preTime,beginTime,update=function(){return null},getCurrStyle=function(){return(0,_util.mapObject)(function(key,
val){return val.from},stepperStyle)};interKeys=function(now){preTime||(preTime=now);stepperStyle=calStepperVals(easing,stepperStyle,(now-preTime)/easing.dt);render(_objectSpread({},from,to,getCurrStyle(stepperStyle)));preTime=now;(0,_filter2.default)(stepperStyle,needContinue).length&&(cafId=(0,_raf.default)(update))};var timingUpdate=function(now){beginTime||(beginTime=now);var t=(now-beginTime)/duration;now=(0,_util.mapObject)(function(key,val){return alpha.apply(void 0,_toConsumableArray(val).concat([easing(t)]))},
timingStyle);render(_objectSpread({},from,to,now));1>t?cafId=(0,_raf.default)(update):(now=(0,_util.mapObject)(function(key,val){return alpha.apply(void 0,_toConsumableArray(val).concat([easing(1)]))},timingStyle),render(_objectSpread({},from,to,now)))};update=easing.isStepper?interKeys:timingUpdate;return function(){(0,_raf.default)(update);return function(){(0,_raf.cancel)(cafId)}}}}
//# sourceMappingURL=module$node_modules$react_smooth$lib$configUpdate.js.map
